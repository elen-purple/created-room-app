const e=async()=>{try{return await fetch("https://68860803f52d34140f6b2f20.mockapi.io/create-room-app/furniture").then(e=>e.json())}catch(e){return e}},t=e=>JSON.parse(localStorage.getItem(e)),r=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};Object.keys(localStorage).includes("furniture")||r("furniture",[]),e().then(e=>{document.querySelector("#sidebar-list").innerHTML=e.map(e=>`<li class="sidebar__item">
        <img id="img-${e.id}" data-img class="sidebar__img" src="${e.img}" alt="Furniture" />
      </li>`).join("")});let l=1;document.querySelector("#all").innerHTML=t("furniture").map(e=>`<img class="room__img" data-image style="top: ${e.top}; left: ${e.left};transform: rotate(${e.rotate}deg)" id="img-${e.id}" src="${e.src}" alt="Furniture"/>`).join(""),document.querySelector("#sidebar").addEventListener("click",e=>{if(e.target.hasAttribute("data-img")||e.target.firstElementChild.hasAttribute("data-img")){var o,i;let u=e.target.hasAttribute("data-img")?e.target:e.target.firstElementChild;o=l,i=u.src,document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="transform:rotate(0deg)" id="img-${o}" src="${i}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#img-${l}`).style.top="0px",document.querySelector("#all").querySelector(`#img-${l}`).style.left="0px";let c=t("furniture");c.push({id:l,src:u.src,top:0,left:0,rotate:0}),r("furniture",c),l+=1}});let o="";document.querySelector("#all").addEventListener("contextmenu",e=>{if(e.preventDefault(),e.target.hasAttribute("data-image")){var t,r;o=e.target.id,t=e.offsetX,r=e.offsetY,document.querySelector("#menu").classList.remove("is-hidden"),document.querySelector("#menu").style.left=`${t}px`,document.querySelector("#menu").style.top=`${r}px`}}),window.addEventListener("click",e=>{e.target.hasAttribute("data-image")||document.querySelector("#menu").classList.add("is-hidden")}),document.querySelector("#rotate").addEventListener("click",()=>{document.querySelector("#all").querySelector(`#${o}`).style.transform=`rotate(${Number.parseInt(document.querySelector("#all").querySelector(`#${o}`).style.transform.slice(7))+90}deg`;let e=t("furniture");e.find(e=>`img-${e.id}`===o).rotate+=90,r("furniture",e)}),document.querySelector("#toup").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${o}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${o}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${o}`).style.transform}" id="${o}" src="${document.querySelector("#all").querySelector(`#${o}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#${o}`).remove();let l=t("furniture");l.push(l.find(e=>`img-${e.id}`===o)),l.splice(l.indexOf(l.find(e=>`img-${e.id}`===o)),1),r("furniture",l)}),document.querySelector("#todown").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("afterbegin",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${o}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${o}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${o}`).style.transform}" id="${o}" src="${document.querySelector("#all").querySelector(`#${o}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelectorAll(`#${o}`)[1].remove();let l=t("furniture"),i=l.find(e=>`img-${e.id}`===o);l.unshift({id:i.id,src:i.src,top:i.top,left:i.left,rotate:i.rotate}),l.splice(l.indexOf(l.filter(e=>`img-${e.id}`===o)[1]),1),r("furniture",l)}),document.querySelector("#deleted").addEventListener("click",e=>{document.querySelector("#all").querySelector(`#${o}`).remove();let l=t("furniture");l.splice(l.indexOf(l.find(e=>`img-${e.id}`===o)),1),r("furniture",l)});
//# sourceMappingURL=created-room-app.27e9292b.js.map
