const e=async e=>{try{return await fetch(`https://68860803f52d34140f6b2f20.mockapi.io/create-room-app/${e}`).then(e=>e.json())}catch(e){return e}},t=e=>e.map(e=>`<li class="sidebar__item">
        <img id="img-${e.id}" data-img class="sidebar__img" src="${e.img}" alt="Furniture" />
      </li>`).join(""),r=e=>JSON.parse(localStorage.getItem(e)),l=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};Object.keys(localStorage).includes("furniture")||l("furniture",[]),e("furniture").then(e=>{console.log(e),document.querySelector("#sidebar-list-furniture").innerHTML=t(e)}),e("other").then(e=>{console.log(e),document.querySelector("#sidebar-list-walls").innerHTML=t(e.walls)}),e("other").then(e=>{document.querySelector("#sidebar-list-floor").innerHTML=t(e.floor)}),e("other").then(e=>{document.querySelector("#sidebar-list-plants").innerHTML=t(e.plants)}),e("other").then(e=>{document.querySelector("#sidebar-list-windows").innerHTML=t(e.windows)}),e("other").then(e=>{document.querySelector("#sidebar-list-doors").innerHTML=t(e.doors)});let o=1;document.querySelector("#all").innerHTML=r("furniture").map(e=>`<img class="room__img" data-image style="top: ${e.top}; left: ${e.left};transform: rotate(${e.rotate}deg)" id="img-${e.id}" src="${e.src}" alt="Furniture"/>`).join(""),document.querySelector("#sidebar").addEventListener("click",e=>{if(e.target.hasAttribute("data-img")||e.target.firstElementChild.hasAttribute("data-img")){var t,n;let i=e.target.hasAttribute("data-img")?e.target:e.target.firstElementChild;t=o,n=i.src,document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="transform:rotate(0deg)" id="img-${t}" src="${n}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#img-${o}`).style.top="0px",document.querySelector("#all").querySelector(`#img-${o}`).style.left="0px";let u=r("furniture");u.push({id:o,src:i.src,top:0,left:0,rotate:0}),l("furniture",u),o+=1}});let n="";document.querySelector("#all").addEventListener("contextmenu",e=>{if(e.preventDefault(),e.target.hasAttribute("data-image")){var t,r;n=e.target.id,t=e.offsetX,r=e.offsetY,document.querySelector("#menu").classList.remove("is-hidden"),document.querySelector("#menu").style.left=`${t}px`,document.querySelector("#menu").style.top=`${r}px`}}),window.addEventListener("click",e=>{e.target.hasAttribute("data-image")||document.querySelector("#menu").classList.add("is-hidden")}),document.querySelector("#rotate").addEventListener("click",()=>{document.querySelector("#all").querySelector(`#${n}`).style.transform=`rotate(${Number.parseInt(document.querySelector("#all").querySelector(`#${n}`).style.transform.slice(7))+90}deg`;let e=r("furniture");e.find(e=>`img-${e.id}`===n).rotate+=90,l("furniture",e)}),document.querySelector("#toup").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${n}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${n}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${n}`).style.transform}" id="${n}" src="${document.querySelector("#all").querySelector(`#${n}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#${n}`).remove();let t=r("furniture");t.push(t.find(e=>`img-${e.id}`===n)),t.splice(t.indexOf(t.find(e=>`img-${e.id}`===n)),1),l("furniture",t)}),document.querySelector("#todown").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("afterbegin",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${n}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${n}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${n}`).style.transform}" id="${n}" src="${document.querySelector("#all").querySelector(`#${n}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelectorAll(`#${n}`)[1].remove();let t=r("furniture"),o=t.find(e=>`img-${e.id}`===n);t.unshift({id:o.id,src:o.src,top:o.top,left:o.left,rotate:o.rotate}),t.splice(t.indexOf(t.filter(e=>`img-${e.id}`===n)[1]),1),l("furniture",t)}),document.querySelector("#deleted").addEventListener("click",e=>{document.querySelector("#all").querySelector(`#${n}`).remove();let t=r("furniture");t.splice(t.indexOf(t.find(e=>`img-${e.id}`===n)),1),l("furniture",t)});let i="",u=!1;document.querySelector("#room").addEventListener("mousedown",e=>{e.target.hasAttribute("data-image")&&(u=!0,i=e.target.id,console.log("a1"))}),document.querySelector("#room").addEventListener("mouseup",e=>{i="",u=!1,console.log("a2")}),document.addEventListener("mousemove",e=>{!0===u&&(console.log("a"),document.querySelector(`#${i}`).style.left=`${e.clientX}px`,document.querySelector(`#${i}`).style.top=`${e.clientY}px`)}),document.querySelector("#remove-all").addEventListener("click",()=>{console.log("a"),l("furniture",[]),document.querySelector("#all").innerHTML=""});
//# sourceMappingURL=created-room-app.78c9aa2b.js.map
