const e=async e=>{try{return await fetch(`https://68860803f52d34140f6b2f20.mockapi.io/create-room-app/${e}`).then(e=>e.json())}catch(e){return e}},t=e=>e.map(e=>`<li class="sidebar__item">
        <img id="img-${e.id}" data-img class="sidebar__img" src="${e.img}" alt="Furniture" />
      </li>`).join(""),r=e=>JSON.parse(localStorage.getItem(e)),l=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};Object.keys(localStorage).includes("furniture")||l("furniture",[]),Object.keys(localStorage).includes("index")||l("index",1),e("furniture").then(e=>{document.querySelector("#sidebar-list-furniture").innerHTML=t(e)}),e("other").then(e=>{document.querySelector("#sidebar-list-walls").innerHTML=e[0].walls.map(e=>`<li class="sidebar__item">
        <img id="img-${e.id}" data-walls class="sidebar__img" src="${e.img}" alt="Furniture" />
      </li>`).join("")}),e("other").then(e=>{document.querySelector("#sidebar-list-floor").innerHTML=e[1].floor.map(e=>`<li class="sidebar__item">
        <img id="img-${e.id}" data-floor class="sidebar__img" src="${e.img}" alt="Furniture" />
      </li>`).join("")}),e("other").then(e=>{document.querySelector("#sidebar-list-plants").innerHTML=t(e[2].plants)}),e("other").then(e=>{document.querySelector("#sidebar-list-windows").innerHTML=t(e[3].windows)}),e("other").then(e=>{document.querySelector("#sidebar-list-doors").innerHTML=t(e[4].doors)});let o=!1,i=!1,n=!1,a=!1,c=!1,d=!1;document.querySelector("#sidebar-top-floor").addEventListener("click",e=>{i?(document.querySelector("#sidebar-list-floor").style.display="none",i=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-floor").style.display="flex",i=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")}),document.querySelector("#sidebar-top-walls").addEventListener("click",e=>{o?(document.querySelector("#sidebar-list-walls").style.display="none",o=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-walls").style.display="flex",o=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")}),document.querySelector("#sidebar-top-doors").addEventListener("click",e=>{n?(document.querySelector("#sidebar-list-doors").style.display="none",n=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-doors").style.display="flex",n=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")}),document.querySelector("#sidebar-top-windows").addEventListener("click",e=>{a?(document.querySelector("#sidebar-list-windows").style.display="none",a=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-windows").style.display="flex",a=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")}),document.querySelector("#sidebar-top-plants").addEventListener("click",e=>{c?(document.querySelector("#sidebar-list-plants").style.display="none",c=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-plants").style.display="flex",c=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")}),document.querySelector("#sidebar-top-furniture").addEventListener("click",e=>{d?(document.querySelector("#sidebar-list-furniture").style.display="none",d=!1,e.currentTarget.lastElementChild.style.transform="rotate(0deg)"):(document.querySelector("#sidebar-list-furniture").style.display="flex",d=!0,e.currentTarget.lastElementChild.style.transform="rotate(180deg)")});let s="https://i.postimg.cc/Pq4T9SWb/floar-1.png",u="https://i.postimg.cc/rmDy4S4S/wall-1.png";function m(e,t){document.querySelector("#room").backgroundImage=`url ("${e}"), url ("${t}")`}document.querySelector("#sidebar").addEventListener("click",e=>{let t=e.target.firstElementChild;if(e.target.hasAttribute("data-walls")||t&&t.hasAttribute("data-walls"))console.log(s=(e.target.hasAttribute("data-walls")?e.target:e.target.firstElementChild).src),m(s,u);else if(e.target.hasAttribute("data-floor")||t&&t.hasAttribute("data-floor"))u=(e.target.hasAttribute("data-floor")?e.target:e.target.firstElementChild).src;else if(e.target.hasAttribute("data-img")||t&&t.hasAttribute("data-img")){var o,i;let t=e.target.hasAttribute("data-img")?e.target:e.target.firstElementChild;o=r("index"),i=t.src,document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="transform:rotate(0deg)" id="img-${o}" src="${i}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#img-${r("index")}`).style.top="0px",document.querySelector("#all").querySelector(`#img-${r("index")}`).style.left="0px";let n=r("furniture");n.push({id:r("index"),src:t.src,top:0,left:0,rotate:0}),l("furniture",n),l("index",r("index")+1)}}),m(s,u),document.querySelector("#all").innerHTML=r("furniture").map(e=>`<img class="room__img" data-image style="top: ${e.top}px; left: ${e.left}px; transform: rotate(${e.rotate}deg)" id="img-${e.id}" src="${e.src}" alt="Furniture"/>`).join("");let y="";document.querySelector("#all").addEventListener("contextmenu",e=>{if(e.preventDefault(),e.target.hasAttribute("data-image")){var t,r;y=e.target.id;let l=document.querySelector("#room").getBoundingClientRect();t=e.pageX-l.left,r=e.pageY-l.top,document.querySelector("#menu").classList.remove("is-hidden"),document.querySelector("#menu").style.left=`${t}px`,document.querySelector("#menu").style.top=`${r}px`}}),window.addEventListener("click",e=>{e.target.hasAttribute("data-image")||document.querySelector("#menu").classList.add("is-hidden")}),document.querySelector("#rotate").addEventListener("click",()=>{document.querySelector("#all").querySelector(`#${y}`).style.transform=`rotate(${Number.parseInt(document.querySelector("#all").querySelector(`#${y}`).style.transform.slice(7))+90}deg`;let e=r("furniture");e.find(e=>`img-${e.id}`===y).rotate+=90,l("furniture",e)}),document.querySelector("#toup").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("beforeend",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${y}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${y}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${y}`).style.transform}" id="${y}" src="${document.querySelector("#all").querySelector(`#${y}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelector(`#${y}`).remove();let t=r("furniture");t.push(t.find(e=>`img-${e.id}`===y)),t.splice(t.indexOf(t.find(e=>`img-${e.id}`===y)),1),l("furniture",t)}),document.querySelector("#todown").addEventListener("click",e=>{document.querySelector("#all").insertAdjacentHTML("afterbegin",`<img class="room__img" data-image style="top: ${document.querySelector("#all").querySelector(`#${y}`).style.top}; left: ${document.querySelector("#all").querySelector(`#${y}`).style.left};transform: ${document.querySelector("#all").querySelector(`#${y}`).style.transform}" id="${y}" src="${document.querySelector("#all").querySelector(`#${y}`).src}" alt="Furniture"/>`),document.querySelector("#all").querySelectorAll(`#${y}`)[1].remove();let t=r("furniture"),o=t.find(e=>`img-${e.id}`===y);t.unshift({id:o.id,src:o.src,top:o.top,left:o.left,rotate:o.rotate}),t.splice(t.indexOf(t.filter(e=>`img-${e.id}`===y)[1]),1),l("furniture",t)}),document.querySelector("#deleted").addEventListener("click",e=>{document.querySelector("#all").querySelector(`#${y}`).remove();let t=r("furniture");t.splice(t.indexOf(t.find(e=>`img-${e.id}`===y)),1),l("furniture",t)});let g="",S=!1;document.querySelector("#room").addEventListener("click",e=>{e.target.hasAttribute("data-image")&&(S?(S=!1,g=""):(S=!0,g=e.target.id))}),document.querySelector("#room").addEventListener("mousemove",e=>{if(!0===S){let t=document.querySelector("#room").getBoundingClientRect(),o=e.clientX-document.querySelector("#all").querySelector(`#${g}`).clientWidth/2-t.left,i=e.clientY-document.querySelector("#all").querySelector(`#${g}`).clientHeight/2-t.top;o<0&&(o=0),o>document.querySelector("#room").clientWidth-document.querySelector("#all").querySelector(`#${g}`).scrollWidth&&(o=document.querySelector("#room").clientWidth-document.querySelector("#all").querySelector(`#${g}`).scrollWidth),i<0&&(i=0),i>document.querySelector("#room").clientHeight-document.querySelector("#all").querySelector(`#${g}`).clientHeight&&(i=document.querySelector("#room").clientHeight-document.querySelector("#all").querySelector(`#${g}`).clientHeight),document.querySelector("#all").querySelector(`#${g}`).style.left=`${o}px`,document.querySelector("#all").querySelector(`#${g}`).style.top=`${i}px`;let n=r("furniture"),a=n.find(e=>`img-${e.id}`===g);console.log(a),a.top=i,a.left=o,l("furniture",n)}}),document.querySelector("#remove-all").addEventListener("click",()=>{console.log("a"),l("furniture",[]),l("index",1),document.querySelector("#all").innerHTML=""});
//# sourceMappingURL=created-room-app.19c657e4.js.map
